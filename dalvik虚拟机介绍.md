
####所有的android程序都运行在系统的进程里面，应用的每个进程对应对应一个虚拟机实例。提供生命周期管理，堆栈管理，线程安全和异常处理及垃圾回收机制等功能。


在android5.0之后使用google又推出了ART虚拟机

#JVM和Dalvik的共同点：
- 都是解释执行，解释执行不依赖于平台，因为编译器会根据不同的平台进行解析。
- 每个os进程运行一个VM，并运行一个单独的程序
- JIT，及时编译对于热代码直接转换成汇编代码


#Dalcik虚拟机
架构不同
dvm基于寄存器  生成的可执行文件.dex体积更小
jvm基于栈
v命名和p民命
3个局部变量和4个函数参数
v0,v1,v2  p0(th is),p1,p2,p3

主要的反编译器
BakSmail
Dedexer



#dex文件结构
魔数字段 magic 4个字节
标识dex文件的，虚拟机可用此来识别


#校验码字段
校验完整性，是否被人修改过CRC32
java中可用java.util.zip.Adler32

#SHA-1签名字段
作为魔数和校验字段的补充，20个字节
作为双重校验机制

#map_off字段
